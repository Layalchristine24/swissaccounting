% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/sum_accounts.R
\name{sum_accounts}
\alias{sum_accounts}
\title{Sum Account Balances by Category}
\usage{
sum_accounts(my_ledger)
}
\arguments{
\item{my_ledger}{data.frame A data frame containing accounting ledger data with
the following columns:
\itemize{
\item{account_type}{Character. Type of account (Asset, Liability, etc.)}
\item{debit_account}{Integer. Account number for debit entries}
\item{credit_account}{Integer. Account number for credit entries}
\item{amount}{Numeric. Transaction amount}
\item{account_description}{Character. Description of the account}
}}
}
\value{
data.frame A grouped data frame with the following columns:
\itemize{
\item{account_base_category}{Integer. First digit of account number (1-9)}
\item{high_category}{Integer. First two digits of account number}
\item{intermediate_category}{Integer. First three digits of account number}
\item{account_number}{Integer. Full account number (from debit or credit)}
\item{account_description}{Character. Description of the account}
\item{sum_amounts}{Numeric. Sum of amounts for each category combination,
with sign adjusted based on account type}
}
}
\description{
Calculates the sum of account balances grouped by high-level categories and
account descriptions, handling different account types in multiple languages
(English, French, German). The function automatically adjusts the sign of
amounts based on the account type (debit/credit) and filters out closing
and income/expense accounts.
}
\examples{
# Create sample ledger data
ledger_data <- data.frame(
  account_type = c("Asset", "Liability", "Asset"),
  debit_account = c(1001, NA, 1002),
  credit_account = c(NA, 2001, NA),
  amount = c(1000, 500, 750),
  account_description = c("Cash", "Loan", "Equipment")
)

# Calculate sum of accounts
result <- sum_accounts(ledger_data)
# Returns:
# account_base_category: 1, 2
# high_category: 10, 20
# intermediate_category: 100, 200
# account_number: 1001, 1002, 2001
# sum_amounts: 1750, -500

}
\seealso{
\code{\link{get_account_base_category}} for extracting base categories
\code{\link{get_high_category}} for extracting high-level categories
\code{\link{get_intermediate_category}} for extracting intermediate categories
}
